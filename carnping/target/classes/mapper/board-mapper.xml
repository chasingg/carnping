<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "mybatis-3-mapper.dtd" >
<mapper namespace="boardMapper">

	<resultMap type="Board" id="boardResultMap">
		<result column="BOARD_NO" property="boardNo"/>
		<result column="BOARD_TITLE" property="boardTitle"/>
		<result column="MEM_NO" property="memNo"/>
		<result column="CREATE_DATE" property="createDate"/>
		<result column="LOCATION" property="location"/>
		<result column="BOARD_CONTENT" property="boardContent"/>
		<result column="COUNT" property="count"/>
		<result column="STATUS" property="status"/>
	</resultMap>

	<resultMap type="BoardImg" id="boardImgResultMap">
		<result column="BOARD_NO" property="boardNo"/>
		<result column="BOARD_IMG1" property="boardImg1"/>
		<result column="BOARD_IMG2" property="boardImg2"/>
		<result column="BOARD_IMG3" property="boardImg3"/>
		<result column="BOARD_IMG4" property="boardImg4"/>
		<result column="BOARD_IMG5" property="boardImg5"/>
	</resultMap>

	<resultMap type="Comment" id="commentResultMap">
		<result column="RE_NO" property="reNo"/>
		<result column="REF_NO" property="refNo"/>
		<result column="MEM_NO" property="memNo"/>
		<result column="CREATE_DATE" property="createDate"/>
		<result column="COMM_CONTENT" property="commContent"/>
	</resultMap>
	
	
	
	<!-- 소영 : 내가 쓴글 목록 조회(myPostList) 페이징을 위한 내가쓴게시판글 개수조회 -->
	<select id="selectMyBoardListCount" resultType="_int">
  	  SELECT
  	  		 COUNT(*)
  	  	FROM FBOARD
  	   WHERE MEM_NO = (SELECT MEM_NO FROM MEMBER WHERE MEM_ID = #{memId})
  	     AND STATUS = 'Y'
	</select>
	
	<!-- 소영 : 내가 쓴 게시글 목록 조회 -->
	<select id="selectMyBoardList" resultMap="boardResultMap">
		SELECT
			  BOARD_NO
			, BOARD_TITLE
			, MEM_ID
			, to_char(create_date, 'YY.MM.DD HH:mm:ss') as "CREATE_DATE"
			, LOCATION
			, BOARD_CONTENT
			, COUNT
			, F.STATUS
		 FROM FBOARD F
		 JOIN MEMBER M USING(MEM_NO)
		WHERE MEM_ID = #{memId}
		  AND F.STATUS = 'Y'
		ORDER
		   BY CREATE_DATE DESC
	</select>

	
</mapper>
